<!DOCTYPE html>
<html lang="kk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üóÉÔ∏è KidTech | –ê“õ–ø–∞—Ä–∞—Ç—Ç—ã —Å–∞“õ—Ç–∞—É: —Ñ–∞–π–ª–¥–∞—Ä –º–µ–Ω “õ–∞–ª—Ç–∞–ª–∞—Ä</title>
    <link href="https://fonts.googleapis.com/css2?family=Nunito:wght@400;700;800&display=swap" rel="stylesheet">
    <link rel="icon" type="image/png" href="favicons.png"> 
    <style>
        /* [–ë“±—Ä—ã–Ω“ì—ã CSS —Å—Ç–∏–ª—å–¥–µ—Ä—ñ —Ç–æ–ª—ã“ì—ã–º–µ–Ω —Å–∞“õ—Ç–∞–ª“ì–∞–Ω] */
        body { font-family: 'Nunito', sans-serif; margin: 0; padding: 0; background-color: #f4f7f6; color: #333; line-height: 1.6; }
        .main-header { background-color: #fff; padding: 20px 5%; display: flex; justify-content: space-between; align-items: center; box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1); }
        .logo a { font-size: 1.8em; font-weight: 800; color: #ff6f00; text-decoration: none; }
        
        .project-container { max-width: 1000px; margin: 40px auto; padding: 30px; background-color: #fff; border-radius: 15px; box-shadow: 0 5px 25px rgba(0, 0, 0, 0.1); text-align: center; }
        .project-header h1 { font-size: 3em; color: #ff6f00; } 
        
        .storage-section { margin-top: 30px; text-align: left; }

        .demo-area {
            background-color: #eaf5ff; 
            border: 3px solid #ff6f00;
            border-radius: 10px;
            min-height: 350px;
            padding: 20px;
            position: relative;
            /* –ú–æ–±–∏–ª—å–¥—ñ “õ“±—Ä—ã–ª“ì—ã–ª–∞—Ä–¥–∞ —Å–∫—Ä–æ–ª–ª–¥—ã –±–æ–ª–¥—ã—Ä–º–∞—É “Ø—à—ñ–Ω */
            touch-action: none; 
        }

        /* –ë–∞—Å“õ–∞—Ä—É –±–∞—Ç—ã—Ä–º–∞–ª–∞—Ä—ã */
        .controls { margin-bottom: 20px; display: flex; flex-wrap: wrap; gap: 10px; justify-content: center; }
        .controls button {
            padding: 10px 20px;
            font-size: 1.1em;
            border: none;
            border-radius: 5px;
            background-color: #2ecc71;
            color: white;
            cursor: pointer;
            font-weight: 700;
            transition: transform 0.1s;
        }
        .controls button:active {
             transform: translateY(1px);
        }
        
        /* –û–±—ä–µ–∫—Ç—Ç–µ—Ä–¥—ñ“£ –Ω–µ–≥—ñ–∑–≥—ñ —Å—Ç–∏–ª—ñ */
        .desktop-item {
            position: absolute;
            text-align: center;
            width: 100px;
            cursor: pointer; /* –°“Ø–π—Ä–µ—É–¥—ñ –∫”©—Ä—Å–µ—Ç—É */
            user-select: none;
            transition: transform 0.3s, opacity 0.3s;
            z-index: 1; /* –ñ–∞–ª–ø—ã “õ–∞–±–∞—Ç */
            /* Touch “õ–æ–ª–¥–∞—É “Ø—à—ñ–Ω */
            touch-action: none; 
        }

        .folder-icon { font-size: 3em; color: #ffd700; text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.2); }
        .file-icon { font-size: 3em; color: #3498db; }
        
        .folder-label, .file-label {
            font-size: 0.9em;
            word-wrap: break-word;
            margin-top: 5px;
            display: block;
        }
        
        /* –ü–∞–ø–∫–∞–Ω—ã "–∞—à—É" —Ç–µ—Ä–µ–∑–µ—Å—ñ */
        #folderWindow {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 70%;
            max-width: 400px;
            background-color: white;
            border: 5px solid #ff6f00;
            border-radius: 10px;
            padding: 20px;
            z-index: 100;
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.3);
            display: none;
            text-align: center;
        }

        #folderContent {
            min-height: 50px;
            padding: 10px;
            border: 1px dashed #ccc;
            margin-top: 10px;
            display: flex;
            gap: 10px;
            justify-content: center;
            flex-wrap: wrap;
        }
        
        .close-btn { 
            float: right; 
            font-size: 1.5em; 
            cursor: pointer; 
            color: #e74c3c; 
        }
        
        .explanation { 
            margin-top: 20px; 
            font-size: 0.9em; 
            color: #777;
        }

        /* –ú–æ–±–∏–ª—å–¥—ñ –±–µ–π—ñ–º–¥–µ—É */
        @media (max-width: 600px) {
            .project-header h1 {
                font-size: 2.5em;
            }
            .controls {
                flex-direction: column; 
            }
            .desktop-item {
                width: 80px; /* –ö—ñ—à—ñ—Ä–µ–π—Ç—É */
            }
        }

    </style>
</head>
<body>

    <header class="main-header">
        <div class="logo">
            <a href="index.html"><span class="emoji">üè†</span> –ë–∞—Å—Ç—ã –±–µ—Ç–∫–µ</a>
        </div>
    </header>

    <div class="project-container">
        <div class="project-header">
            <span style="font-size: 4em;">üóÉÔ∏è</span>
            <h1>–ê“õ–ø–∞—Ä–∞—Ç—Ç—ã –°–∞“õ—Ç–∞—É –∂”ô–Ω–µ “∞–π—ã–º–¥–∞—Å—Ç—ã—Ä—É</h1>
            <p style="font-size: 1.2em; color: #555;">–¢”©–º–µ–Ω–¥–µ —Ñ–∞–π–ª–¥–∞—Ä –º–µ–Ω “õ–∞–ª—Ç–∞–ª–∞—Ä –∂–∞—Å–∞–ø, –æ–ª–∞—Ä–¥—ã —Ä–µ—Ç—Ç–µ—É–≥–µ —Ç—ã—Ä—ã—Å—ã–ø –∫”©—Ä—ñ“£—ñ–∑!</p>
        </div>
        
        <div class="storage-section">
            
            <div class="controls">
                <button onclick="createFolder()">üìÅ –ñ–∞“£–∞ “ö–∞–ª—Ç–∞ –ê—à—É</button>
                <button onclick="createFile('image')">üñºÔ∏è –ñ–∞“£–∞ –°—É—Ä–µ—Ç –§–∞–π–ª—ã</button>
                <button onclick="createFile('text')">üìù –ñ–∞“£–∞ –ú”ô—Ç—ñ–Ω –§–∞–π–ª—ã</button>
            </div>

            <div class="demo-area" id="demoArea">
                <p id="instruction">“ö–∞–ª—Ç–∞ –º–µ–Ω —Ñ–∞–π–ª–¥–∞—Ä –∂–∞—Å–∞–ø, —Ñ–∞–π–ª–¥—ã “õ–∞–ª—Ç–∞“ì–∞ **–∞–ø–∞—Ä—ã–ø** (drag and drop) –±–∞—Å—ã“£—ã–∑.</p>
                
                <div id="folderWindow">
                    <span class="close-btn" onclick="closeFolderWindow()">‚úñÔ∏è</span>
                    <h3 id="windowTitle">“ö–∞–ª—Ç–∞–Ω—ã“£ –ê—Ç—ã</h3>
                    <p>“ö–∞–ª—Ç–∞ —ñ—à—ñ–Ω–¥–µ–≥—ñ —Ñ–∞–π–ª–¥–∞—Ä:</p>
                    <div id="folderContent">
                        “ö–∞–ª—Ç–∞ –±–æ—Å.
                    </div>
                </div>

            </div>
            
            <div class="explanation">
                **–ù“±—Å“õ–∞—É:** –§–∞–π–ª–¥—ã –∂–∞—Å–∞“£—ã–∑. –û–Ω—ã “õ–∞–ª—Ç–∞–Ω—ã“£ “Ø—Å—Ç—ñ–Ω–µ **“±—Å—Ç–∞–ø —Ç“±—Ä—ã–ø** —Å“Ø–π—Ä–µ–ø –∞–ø–∞—Ä—ã–ø, –∂—ñ–±–µ—Ä—ñ“£—ñ–∑ (–º–æ–±–∏–ª—å–¥—ñ “õ“±—Ä—ã–ª“ì—ã “Ø—à—ñ–Ω). –°–æ–¥–∞–Ω –∫–µ–π—ñ–Ω “õ–∞–ª—Ç–∞–Ω—ã **–±—ñ—Ä —Ä–µ—Ç –±–∞—Å—ã“£—ã–∑**!
            </div>

        </div>
    </div>

    <footer>
        <p>&copy; 2025 "–ë—ñ–ª—ñ–º–¥—ñ –ë–∞–ª–∞". –ë–∞—Ä–ª—ã“õ “õ“±“õ—ã“õ—Ç–∞—Ä “õ–æ—Ä“ì–∞–ª“ì–∞–Ω.</p>
    </footer>

    <script>
        const demoArea = document.getElementById('demoArea');
        const folderWindow = document.getElementById('folderWindow');
        const folderContent = document.getElementById('folderContent');
        const windowTitle = document.getElementById('windowTitle');
        const instruction = document.getElementById('instruction');

        let itemCount = 0;
        let folders = {}; // “ö–∞–ª—Ç–∞–ª–∞—Ä–¥—ã“£ –º–∞–∑–º“±–Ω—ã–Ω —Å–∞“õ—Ç–∞—É
        let currentFolder = null; // –§–∞–π–ª “õ–∞–π –ø–∞–ø–∫–∞–Ω—ã“£ “Ø—Å—Ç—ñ–Ω–¥–µ —Ç“±—Ä“ì–∞–Ω—ã–Ω –±—ñ–ª—É “Ø—à—ñ–Ω

        // –ï–∫—ñ —ç–ª–µ–º–µ–Ω—Ç—Ç—ñ“£ –±—ñ—Ä-–±—ñ—Ä—ñ–Ω—ñ“£ “Ø—Å—Ç—ñ–Ω–¥–µ —Ç“±—Ä“ì–∞–Ω—ã–Ω —Ç–µ–∫—Å–µ—Ä—É
        function isOverlapping(el1, el2) {
            const rect1 = el1.getBoundingClientRect();
            const rect2 = el2.getBoundingClientRect();
            return !(
                rect1.right < rect2.left || 
                rect1.left > rect2.right || 
                rect1.bottom < rect2.top || 
                rect1.top > rect2.bottom
            );
        }

        // –û–±—ä–µ–∫—Ç—Ç–µ—Ä–¥—ñ —Å“Ø–π—Ä–µ–ø –∞–ø–∞—Ä—É–¥—ã “õ–æ—Å—É (–¢—ã—à“õ–∞–Ω + –°–µ–Ω—Å–æ—Ä)
        function makeDraggable(element, type) {
            let pos1 = 0, pos2 = 0, pos3 = 0, pos4 = 0;
            let isDragging = false;
            let currentX, currentY;

            // 1. Mouse Events (–∫–æ–º–ø—å—é—Ç–µ—Ä “Ø—à—ñ–Ω)
            element.onmousedown = dragMouseDown;
            
            function dragMouseDown(e) {
                e = e || window.event;
                e.preventDefault();
                isDragging = false; 
                pos3 = e.clientX;
                pos4 = e.clientY;
                document.onmouseup = closeDragElement;
                document.onmousemove = elementDrag;
                element.style.zIndex = itemCount + 10;
            }

            // 2. Touch Events (–º–æ–±–∏–ª—å–¥—ñ “õ“±—Ä—ã–ª“ì—ã “Ø—à—ñ–Ω)
            element.ontouchstart = dragTouchStart;

            function dragTouchStart(e) {
                e = e || window.event;
                // –ë—ñ—Ä —Å–∞—É—Å–∞“õ—Ç—ã “ì–∞–Ω–∞ “õ–∞–±—ã–ª–¥–∞—É
                if (e.touches.length === 1) { 
                    isDragging = false;
                    currentX = e.touches[0].clientX;
                    currentY = e.touches[0].clientY;
                    pos3 = currentX;
                    pos4 = currentY;
                    document.ontouchend = closeDragElement;
                    document.ontouchmove = elementTouchDrag;
                    element.style.zIndex = itemCount + 10;
                    // “ö–∞–ª—Ç–∞–Ω—ã –∞—à—É –æ“õ–∏“ì–∞—Å—ã–Ω —É–∞“õ—ã—Ç—à–∞ —Ç–æ“õ—Ç–∞—Ç—É
                    element.onclick = null; 
                }
            }

            // –ñ–∞–ª–ø—ã —Å“Ø–π—Ä–µ—É –ª–æ–≥–∏–∫–∞—Å—ã
            const elementMove = (clientX, clientY) => {
                isDragging = true;
                pos1 = pos3 - clientX;
                pos2 = pos4 - clientY;
                pos3 = clientX;
                pos4 = clientY;
                
                let newTop = element.offsetTop - pos2;
                let newLeft = element.offsetLeft - pos1;

                // –ê–ª–∞“£ —à–µ–≥—ñ–Ω–µ–Ω —à—ã“ì–∞—Ä–º–∞—É
                newTop = Math.max(0, Math.min(newTop, demoArea.clientHeight - element.offsetHeight));
                newLeft = Math.max(0, Math.min(newLeft, demoArea.clientWidth - element.offsetWidth));

                element.style.top = newTop + "px";
                element.style.left = newLeft + "px";

                if (type === 'file') {
                    // –§–∞–π–ª —Å“Ø–π—Ä–µ–ª–≥–µ–Ω–¥–µ, –ø–∞–ø–∫–∞–Ω—ã“£ “Ø—Å—Ç—ñ–Ω–¥–µ –º–µ, —Ç–µ–∫—Å–µ—Ä—É
                    const files = document.querySelectorAll('.desktop-item[data-type="folder"]');
                    currentFolder = null;
                    element.style.opacity = 1;

                    files.forEach(folder => {
                        if (isOverlapping(element, folder)) {
                            folder.style.transform = 'scale(1.1)'; // “Æ—Å—Ç—ñ–Ω–¥–µ —Ç“±—Ä“ì–∞–Ω—ã–Ω –∫”©—Ä—Å–µ—Ç—É
                            currentFolder = folder;
                        } else {
                            folder.style.transform = 'scale(1)';
                        }
                    });
                }
            };
            
            // –°“Ø–π—Ä–µ—É (—Ç—ã—à“õ–∞–Ω)
            const elementDrag = (e) => {
                e.preventDefault();
                elementMove(e.clientX, e.clientY);
            };

            // –°“Ø–π—Ä–µ—É (—Å–µ–Ω—Å–æ—Ä)
            const elementTouchDrag = (e) => {
                e.preventDefault();
                if (e.touches.length === 1) {
                    elementMove(e.touches[0].clientX, e.touches[0].clientY);
                }
            };

            const closeDragElement = () => {
                document.onmouseup = null;
                document.onmousemove = null;
                document.ontouchend = null;
                document.ontouchmove = null;
                element.style.zIndex = 1;
                
                // –§–∞–π–ª–¥—ã “õ–∞–ª—Ç–∞“ì–∞ —Å–∞–ª—É (–∏–º–∏—Ç–∞—Ü–∏—è)
                if (type === 'file' && currentFolder) {
                    const fileId = element.id;
                    const folderId = currentFolder.id;
                    const fileName = element.querySelector('.file-label').textContent;
                    
                    if (!folders[folderId]) folders[folderId] = [];
                    
                    // –ë“±–ª —Ñ–∞–π–ª “õ–∞–ª—Ç–∞–¥–∞ –±“±—Ä—ã–Ω–Ω–∞–Ω –±–∞—Ä –º–∞, —Ç–µ–∫—Å–µ—Ä—É
                    const exists = folders[folderId].some(f => f.id === fileId);

                    if (!exists) {
                        // –§–∞–π–ª–¥—ã –º–∞—Å—Å–∏–≤–∫–µ “õ–æ—Å—É
                        folders[folderId].push({ 
                            id: fileId, 
                            name: fileName, 
                            icon: element.querySelector('.file-icon').textContent 
                        });
                        
                        // –§–∞–π–ª–¥—ã –∂“±–º—ã—Å “Ø—Å—Ç–µ–ª—ñ–Ω–µ–Ω –∂–æ—é
                        element.remove();
                        instruction.textContent = `‚úÖ –§–∞–π–ª '${fileName}' “õ–∞–ª—Ç–∞“ì–∞ '${currentFolder.querySelector('.folder-label').textContent}' —Å”ô—Ç—Ç—ñ —Å–∞–ª—ã–Ω–¥—ã!`;
                    } else {
                        instruction.textContent = `‚ö†Ô∏è –§–∞–π–ª '${fileName}' –±“±–ª “õ–∞–ª—Ç–∞–¥–∞ –±–∞—Ä.`;
                    }
                    
                    currentFolder.style.transform = 'scale(1)';
                } else if (type === 'file' && !isDragging) {
                     // –ï–≥–µ—Ä —Ñ–∞–π–ª –±–æ–ª—Å–∞ –∂”ô–Ω–µ —Å“Ø–π—Ä–µ–ª–º–µ—Å–µ, –æ–Ω—ã –∞—à—É“ì–∞ —Ç—ã—Ä—ã—Å—É (–∏–º–∏—Ç–∞—Ü–∏—è)
                     instruction.textContent = `üñºÔ∏è/üìù '${element.querySelector('.file-label').textContent}' —Ñ–∞–π–ª—ã –∞—à—ã–ª–¥—ã (–∏–º–∏—Ç–∞—Ü–∏—è).`;
                }

                // –ï–≥–µ—Ä –ø–∞–ø–∫–∞–Ω—ã –±–∞—Å—É –∞—Ä“õ—ã–ª—ã –∞—à—É“ì–∞ —Ç—ã—Ä—ã—Å—Å–∞, –æ–Ω—ã “õ–∞–ª–ø—ã–Ω–∞ –∫–µ–ª—Ç—ñ—Ä—É
                if (type === 'folder') {
                    element.onclick = () => openFolder(element.id, element.querySelector('.folder-label').textContent);
                }
            };
        }

        // ... (–¢”©–º–µ–Ω–¥–µ–≥—ñ createFolder, createFile, openFolder, closeFolderWindow —Ñ—É–Ω–∫—Ü–∏—è–ª–∞—Ä—ã ”©–∑–≥–µ—Ä—ñ—Å—Å—ñ–∑ “õ–∞–ª–∞–¥—ã) ...

        // “ö–∞–ª—Ç–∞ –∂–∞—Å–∞—É
        function createFolder() {
            itemCount++;
            const name = prompt("“ö–∞–ª—Ç–∞–Ω—ã“£ –∞—Ç—ã–Ω –µ–Ω–≥—ñ–∑—ñ“£—ñ–∑:", "–ñ–∞“£–∞ “ö–∞–ª—Ç–∞ " + itemCount);
            if (!name) return;

            const folder = document.createElement('div');
            const folderId = 'folder_' + itemCount;
            folder.id = folderId;
            folder.className = 'desktop-item';
            folder.dataset.type = 'folder';
            folder.innerHTML = `<span class="folder-icon">üìÇ</span><span class="folder-label">${name}</span>`;
            
            folder.style.top = Math.floor(Math.random() * (demoArea.clientHeight - 120)) + "px";
            folder.style.left = Math.floor(Math.random() * (demoArea.clientWidth - 120)) + "px";

            demoArea.appendChild(folder);
            makeDraggable(folder, 'folder');
            folders[folderId] = []; 

            // –ü–∞–ø–∫–∞–Ω—ã –±–∞—Å—É –∞—Ä“õ—ã–ª—ã –∞—à—É
            folder.onclick = () => openFolder(folderId, name);
            folder.ondblclick = () => openFolder(folderId, name);
            
            instruction.textContent = `‚úÖ –ñ–∞“£–∞ '${name}' “õ–∞–ª—Ç–∞—Å—ã –∞—à—ã–ª–¥—ã.`;
        }

        // –§–∞–π–ª –∂–∞—Å–∞—É
        function createFile(fileType) {
            itemCount++;
            let name, icon;
            if (fileType === 'image') {
                name = prompt("–°—É—Ä–µ—Ç —Ñ–∞–π–ª—ã–Ω—ã“£ –∞—Ç—ã–Ω –µ–Ω–≥—ñ–∑—ñ“£—ñ–∑:", "–°—É—Ä–µ—Ç_" + itemCount + ".png");
                icon = 'üñºÔ∏è';
            } else {
                name = prompt("–ú”ô—Ç—ñ–Ω–¥—ñ–∫ —Ñ–∞–π–ª–¥—ã“£ –∞—Ç—ã–Ω –µ–Ω–≥—ñ–∑—ñ“£—ñ–∑:", "–•–∞—Ç_" + itemCount + ".txt");
                icon = 'üìù';
            }
            if (!name) return;

            const file = document.createElement('div');
            file.id = 'file_' + itemCount;
            file.className = 'desktop-item';
            file.dataset.type = 'file';
            file.innerHTML = `<span class="file-icon">${icon}</span><span class="file-label">${name}</span>`;
            
            file.style.top = Math.floor(Math.random() * (demoArea.clientHeight - 120)) + "px";
            file.style.left = Math.floor(Math.random() * (demoArea.clientWidth - 120)) + "px";

            demoArea.appendChild(file);
            makeDraggable(file, 'file');
            
            instruction.textContent = `‚úÖ –ñ–∞“£–∞ '${name}' —Ñ–∞–π–ª—ã –∂–∞—Å–∞–ª–¥—ã. –û–Ω—ã “õ–∞–ª—Ç–∞“ì–∞ —Å“Ø–π—Ä–µ–ø –∞–ø–∞—Ä—ã“£—ã–∑.`;
        }

        // “ö–∞–ª—Ç–∞–Ω—ã –∞—à—É
        function openFolder(folderId, name) {
            windowTitle.textContent = name;
            folderContent.innerHTML = '';
            
            if (folders[folderId] && folders[folderId].length > 0) {
                folders[folderId].forEach(file => {
                    const fileItem = document.createElement('span');
                    fileItem.className = 'desktop-item';
                    fileItem.style.position = 'static';
                    fileItem.style.width = '70px';
                    fileItem.style.margin = '5px';
                    // –ò–∫–æ–Ω–∫–∞ –∫—ñ—à—ñ—Ä–µ–∫ –±–æ–ª—É—ã “Ø—à—ñ–Ω
                    fileItem.innerHTML = `<span class="file-icon" style="font-size: 2em;">${file.icon}</span><span class="file-label" style="font-size: 0.7em;">${file.name}</span>`; 
                    folderContent.appendChild(fileItem);
                });
            } else {
                folderContent.innerHTML = '“ö–∞–ª—Ç–∞ –±–æ—Å.';
            }
            folderWindow.style.display = 'block';
            instruction.textContent = `üìÅ '${name}' “õ–∞–ª—Ç–∞—Å—ã –∞—à—ã–ª–¥—ã.`;
        }

        // “ö–∞–ª—Ç–∞ —Ç–µ—Ä–µ–∑–µ—Å—ñ–Ω –∂–∞–±—É
        function closeFolderWindow() {
            folderWindow.style.display = 'none';
            instruction.textContent = `–ñ–∞“£–∞ —Ñ–∞–π–ª–¥–∞—Ä –º–µ–Ω “õ–∞–ª—Ç–∞–ª–∞—Ä –∂–∞—Å–∞–ø, —Ç”ô–∂—ñ—Ä–∏–±–µ –∂–∞—Å–∞—É–¥—ã –∂–∞–ª“ì–∞—Å—Ç—ã—Ä—ã“£—ã–∑.`;
        }
    </script>
</body>
</html>